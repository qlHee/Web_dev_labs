{"version":3,"sources":["webpack:///./src/views/Question.vue?6e16","webpack:///./src/views/Question.vue","webpack:///src/views/Question.vue","webpack:///./src/views/Question.vue?47c2","webpack:///./src/views/Question.vue?c208"],"names":["render","_vm","this","_c","_self","staticClass","_m","attrs","searchForm","model","value","keyword","callback","$$v","$set","expression","on","searchQuestions","_v","openAddDialog","directives","name","rawName","loading","staticStyle","questionList","scopedSlots","_u","key","fn","scope","$event","editQuestion","row","confirmDelete","pagination","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","dialogTitle","dialogVisible","ref","questionForm","questionRules","question","_l","answers","option","index","required","message","trigger","text","correct","length","removeOption","_e","addOption","slot","submitLoading","submitQuestion","staticRenderFns","data","isEdit","id","created","fetchQuestionList","methods","params","page","$axios","get","then","response","res","code","records","list","$message","error","msg","catch","console","val","$refs","$nextTick","clearValidate","push","splice","validate","valid","hasCorrectAnswer","some","a","warning","filter","trim","url","post","success","$confirm","confirmButtonText","cancelButtonText","type","deleteQuestion","delete","component"],"mappings":"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","file":"js/chunk-66552ae2.32b9c4e5.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=style&index=0&id=7b2a14b4&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"question-container\"},[_vm._m(0),_c('el-form',{staticClass:\"search-form\",attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入题目关键词\"},model:{value:(_vm.searchForm.keyword),callback:function ($$v) {_vm.$set(_vm.searchForm, \"keyword\", $$v)},expression:\"searchForm.keyword\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.searchQuestions}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.openAddDialog}},[_vm._v(\"添加题目\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.questionList}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"question\",\"label\":\"题目内容\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editQuestion(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.confirmDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pagination.currentPage,\"page-sizes\":[5, 10, 20, 50],\"page-size\":_vm.pagination.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.pagination, \"currentPage\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pagination, \"currentPage\", $event)}}})],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"questionForm\",attrs:{\"model\":_vm.questionForm,\"rules\":_vm.questionRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"题目内容\",\"prop\":\"question\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入题目内容\"},model:{value:(_vm.questionForm.question),callback:function ($$v) {_vm.$set(_vm.questionForm, \"question\", $$v)},expression:\"questionForm.question\"}})],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"选项\")]),_vm._l((_vm.questionForm.answers),function(option,index){return _c('div',{key:index,staticClass:\"option-item\"},[_c('el-form-item',{attrs:{\"label\":'选项 ' + (index + 1),\"prop\":'answers.' + index + '.text',\"rules\":[\n          { required: true, message: '请输入选项内容', trigger: 'blur' }\n        ]}},[_c('div',{staticClass:\"option-row\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入选项内容\"},model:{value:(option.text),callback:function ($$v) {_vm.$set(option, \"text\", $$v)},expression:\"option.text\"}}),_c('el-checkbox',{staticStyle:{\"margin-left\":\"10px\"},model:{value:(option.correct),callback:function ($$v) {_vm.$set(option, \"correct\", $$v)},expression:\"option.correct\"}},[_vm._v(\"正确答案\")]),(_vm.questionForm.answers.length > 2)?_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeOption(index)}}}):_vm._e()],1)])],1)}),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addOption}},[_vm._v(\"添加选项\")])],1)],2),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.submitLoading},on:{\"click\":_vm.submitQuestion}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-header\"},[_c('h2',[_vm._v(\"题目管理\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"question-container\">\n    <div class=\"page-header\">\n      <h2>题目管理</h2>\n    </div>\n    \n    <!-- 搜索区域 -->\n    <el-form :inline=\"true\" :model=\"searchForm\" class=\"search-form\">\n      <el-form-item>\n        <el-input v-model=\"searchForm.keyword\" placeholder=\"请输入题目关键词\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"searchQuestions\">搜索</el-button>\n        <el-button type=\"success\" @click=\"openAddDialog\">添加题目</el-button>\n      </el-form-item>\n    </el-form>\n    \n    <!-- 题目表格 -->\n    <el-table :data=\"questionList\" style=\"width: 100%\" v-loading=\"loading\">\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n      <el-table-column prop=\"question\" label=\"题目内容\" show-overflow-tooltip></el-table-column>\n      <el-table-column label=\"操作\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"primary\" @click=\"editQuestion(scope.row)\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"confirmDelete(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    \n    <!-- 分页 -->\n    <div class=\"pagination-container\">\n      <el-pagination\n        background\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"pagination.currentPage\"\n        :page-sizes=\"[5, 10, 20, 50]\"\n        :page-size=\"pagination.pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"pagination.total\">\n      </el-pagination>\n    </div>\n    \n    <!-- 添加/编辑题目对话框 -->\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"60%\">\n      <el-form ref=\"questionForm\" :model=\"questionForm\" :rules=\"questionRules\" label-width=\"100px\">\n        <el-form-item label=\"题目内容\" prop=\"question\">\n          <el-input v-model=\"questionForm.question\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入题目内容\"></el-input>\n        </el-form-item>\n        \n        <el-divider content-position=\"left\">选项</el-divider>\n        \n        <div v-for=\"(option, index) in questionForm.answers\" :key=\"index\" class=\"option-item\">\n          <el-form-item :label=\"'选项 ' + (index + 1)\" :prop=\"'answers.' + index + '.text'\" :rules=\"[\n            { required: true, message: '请输入选项内容', trigger: 'blur' }\n          ]\">\n            <div class=\"option-row\">\n              <el-input v-model=\"option.text\" placeholder=\"请输入选项内容\"></el-input>\n              <el-checkbox v-model=\"option.correct\" style=\"margin-left: 10px;\">正确答案</el-checkbox>\n              <el-button v-if=\"questionForm.answers.length > 2\" type=\"danger\" icon=\"el-icon-delete\" circle size=\"mini\" @click=\"removeOption(index)\" style=\"margin-left: 10px;\"></el-button>\n            </div>\n          </el-form-item>\n        </div>\n        \n        <el-form-item>\n          <el-button type=\"primary\" @click=\"addOption\" icon=\"el-icon-plus\">添加选项</el-button>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitQuestion\" :loading=\"submitLoading\">确 定</el-button>\n      </div>\n    </el-dialog>\n    \n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Question',\n  data() {\n    return {\n      // 题目列表\n      questionList: [],\n      loading: false,\n      \n      // 分页\n      pagination: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 0\n      },\n      \n      // 搜索\n      searchForm: {\n        keyword: ''\n      },\n      \n      // 对话框\n      dialogVisible: false,\n      dialogTitle: '添加题目',\n      submitLoading: false,\n      isEdit: false,\n      \n      // 题目表单\n      questionForm: {\n        id: null,\n        question: '',\n        answers: [\n          { text: '', correct: false },\n          { text: '', correct: false },\n          { text: '', correct: false },\n          { text: '', correct: false }\n        ]\n      },\n      questionRules: {\n        question: [\n          { required: true, message: '请输入题目内容', trigger: 'blur' }\n        ]\n      }\n    };\n  },\n  created() {\n    this.fetchQuestionList();\n  },\n  methods: {\n    // 获取题目列表\n    fetchQuestionList() {\n      this.loading = true;\n      const params = {\n        page: this.pagination.currentPage,\n        pageSize: this.pagination.pageSize,\n        keyword: this.searchForm.keyword\n      };\n      \n      this.$axios.get('/question/list', { params })\n        .then(response => {\n          const res = response.data;\n          if (res.code === 1) {\n            this.questionList = res.data.records || res.data.list || res.data;\n            this.pagination.total = res.data.total || this.questionList.length;\n          } else {\n            this.$message.error(res.msg || '获取题目列表失败');\n          }\n          this.loading = false;\n        })\n        .catch(error => {\n          console.error(error);\n          this.$message.error('获取题目列表失败');\n          this.loading = false;\n        });\n    },\n    \n    // 搜索题目\n    searchQuestions() {\n      this.pagination.currentPage = 1;\n      this.fetchQuestionList();\n    },\n    \n    // 分页大小改变\n    handleSizeChange(val) {\n      this.pagination.pageSize = val;\n      this.fetchQuestionList();\n    },\n    \n    // 当前页改变\n    handleCurrentChange(val) {\n      this.pagination.currentPage = val;\n      this.fetchQuestionList();\n    },\n    \n    // 打开添加题目对话框\n    openAddDialog() {\n      this.isEdit = false;\n      this.dialogTitle = '添加题目';\n      this.questionForm = {\n        id: null,\n        question: '',\n        answers: [\n          { text: '', correct: false },\n          { text: '', correct: false },\n          { text: '', correct: false },\n          { text: '', correct: false }\n        ]\n      };\n      this.dialogVisible = true;\n      // 重置表单验证\n      if (this.$refs.questionForm) {\n        this.$nextTick(() => {\n          this.$refs.questionForm.clearValidate();\n        });\n      }\n    },\n    \n    // 编辑题目\n    editQuestion(row) {\n      this.isEdit = true;\n      this.dialogTitle = '编辑题目';\n      // 获取题目详情\n      this.$axios.get(`/question/detail/${row.id}`)\n        .then(response => {\n          const res = response.data;\n          if (res.code === 1) {\n            this.questionForm = {\n              id: res.data.id,\n              question: res.data.question,\n              answers: [...res.data.answers] // 确保是新数组\n            };\n            \n            // 确保至少有4个选项\n            while (this.questionForm.answers.length < 4) {\n              this.questionForm.answers.push({ text: '', correct: false });\n            }\n            \n            this.dialogVisible = true;\n          } else {\n            this.$message.error(res.msg || '获取题目详情失败');\n          }\n        })\n        .catch(error => {\n          console.error(error);\n          this.$message.error('获取题目详情失败');\n        });\n    },\n    \n    // 添加选项\n    addOption() {\n      this.questionForm.answers.push({ text: '', correct: false });\n    },\n    \n    // 移除选项\n    removeOption(index) {\n      this.questionForm.answers.splice(index, 1);\n    },\n    \n    // 提交题目\n    submitQuestion() {\n      this.$refs.questionForm.validate(valid => {\n        if (valid) {\n          // 验证至少有一个正确答案\n          const hasCorrectAnswer = this.questionForm.answers.some(a => a.correct);\n          if (!hasCorrectAnswer) {\n            this.$message.warning('至少需要选择一个正确答案');\n            return;\n          }\n          \n          // 过滤掉空选项\n          this.questionForm.answers = this.questionForm.answers.filter(a => a.text.trim() !== '');\n          \n          // 验证至少有两个选项\n          if (this.questionForm.answers.length < 2) {\n            this.$message.warning('至少需要两个选项');\n            return;\n          }\n          \n          this.submitLoading = true;\n          const url = this.isEdit ? '/question/update' : '/question/add';\n          this.$axios.post(url, this.questionForm)\n            .then(response => {\n              const res = response.data;\n              if (res.code === 1) {\n                this.$message.success(this.isEdit ? '修改题目成功' : '添加题目成功');\n                this.dialogVisible = false;\n                this.fetchQuestionList();\n              } else {\n                this.$message.error(res.msg || (this.isEdit ? '修改题目失败' : '添加题目失败'));\n              }\n              this.submitLoading = false;\n            })\n            .catch(error => {\n              console.error(error);\n              this.$message.error(this.isEdit ? '修改题目失败' : '添加题目失败');\n              this.submitLoading = false;\n            });\n        }\n      });\n    },\n    \n    // 确认删除题目\n    confirmDelete(row) {\n      this.$confirm('确定要删除该题目吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteQuestion(row.id);\n      }).catch(() => {});\n    },\n    \n    // 删除题目\n    deleteQuestion(id) {\n      this.$axios.delete(`/question/delete/${id}`)\n        .then(response => {\n          const res = response.data;\n          if (res.code === 1) {\n            this.$message.success('删除题目成功');\n            this.fetchQuestionList();\n          } else {\n            this.$message.error(res.msg || '删除题目失败');\n          }\n        })\n        .catch(error => {\n          console.error(error);\n          this.$message.error('删除题目失败');\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.question-container {\n  padding: 20px;\n}\n\n.page-header {\n  margin-bottom: 20px;\n}\n\n.search-form {\n  margin-bottom: 20px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.option-item {\n  margin-bottom: 15px;\n}\n\n.option-row {\n  display: flex;\n  align-items: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Question.vue?vue&type=template&id=7b2a14b4&scoped=true\"\nimport script from \"./Question.vue?vue&type=script&lang=js\"\nexport * from \"./Question.vue?vue&type=script&lang=js\"\nimport style0 from \"./Question.vue?vue&type=style&index=0&id=7b2a14b4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b2a14b4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}