# Quiz项目本地运行说明

## ✅ 当前运行状态

所有服务已成功启动！

### 访问地址

1. **后端API服务**
   - 地址：http://localhost:8080
   - 状态：✅ 运行中

2. **管理员前端**
   - 地址：http://localhost:8081
   - 状态：✅ 运行中
   - 默认管理员账号：admin / admin123

3. **用户前端**
   - 地址：http://localhost:3001
   - 状态：✅ 运行中

---

## 📋 环境检查结果

✅ Node.js: v22.20.0  
✅ npm: 10.9.3  
✅ Java: 24.0.1  
✅ Maven: 3.9.11  
✅ MySQL: 5.7.24 (运行中)  
✅ 数据库quiz已创建并导入数据

---

## 🚀 如何启动项目

### 方法一：使用启动脚本（推荐）

```bash
cd quiz-project
chmod +x start.sh
./start.sh
```

### 方法二：手动启动各个服务

#### 1. 启动后端
```bash
cd quiz-project/backend
mvn clean spring-boot:run
```

#### 2. 启动管理员前端
```bash
cd quiz-project/admin-frontend
npm install  # 首次运行需要
npm run serve
```

#### 3. 启动用户前端
```bash
cd quiz-project/user-frontend
python3 -m http.server 3001
```

---

## 🛠️ 常用操作

### 停止服务
在终端按 `Ctrl + C` 停止对应的服务

### 查看后端日志
后端日志会直接显示在运行终端中

### 重启服务
停止服务后重新运行启动命令即可

---

## 📝 功能测试清单

### 用户端功能（http://localhost:3001）
- [ ] 注册新用户
- [ ] 用户登录
- [ ] 参加测试
- [ ] 查看测试结果

### 管理端功能（http://localhost:8081）
- [ ] 管理员登录（admin/admin123）
- [ ] 添加用户（区分普通用户/管理员）
- [ ] 删除用户
- [ ] 重置用户密码
- [ ] 添加题目
- [ ] 修改题目
- [ ] 删除题目
- [ ] 按关键词查询用户
- [ ] 按关键词查询题目
- [ ] 分页显示用户列表
- [ ] 分页显示题目列表

---

## ⚠️ 注意事项

1. **端口占用**：确保8080、8081、3001端口未被其他程序占用
2. **MySQL服务**：确保MySQL服务正在运行
3. **数据库配置**：后端配置文件中MySQL密码为空，如果你的MySQL有密码，需要修改 `backend/src/main/resources/application.yml`
4. **JWT密钥**：已配置足够长度的JWT密钥以满足HS512算法要求

---

## 🔧 故障排查

### 后端无法启动
- 检查MySQL是否运行：`mysql.server status`
- 检查数据库是否存在：`mysql -u root -e "SHOW DATABASES;"`
- 查看端口是否被占用：`lsof -i :8080`

### 登录失败
- 确认使用正确的账号密码（admin/admin123）
- 检查后端日志是否有错误信息
- 确认JWT密钥配置正确（已修复）

### 前端无法访问
- 检查服务是否启动
- 清除浏览器缓存
- 检查控制台是否有错误信息

### 数据库连接失败
- 确认MySQL服务运行中
- 检查 `application.yml` 中的数据库配置
- 确认数据库quiz已创建

---

## 📚 下一步：部署到Ubuntu

完成本地测试后，可以参考 `deployment-guide.md` 将项目部署到UTM的Ubuntu虚拟机上。

主要步骤：
1. 在Ubuntu上安装MySQL、Nginx、Java
2. 配置数据库
3. 打包并部署后端JAR文件
4. 构建并部署前端文件
5. 配置Nginx反向代理

详细步骤请查看：`deployment-guide.md`
